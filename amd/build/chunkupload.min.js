define ("local_chunkupload/chunkupload",["exports","jquery","core/str","core/notification"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=f;b=e(b);d=e(d);function e(a){return a&&a.__esModule?a:{default:a}}var i,j;function f(a,c,d,e,f){var k=(0,b.default)("#"+a+"_file");i=e;j=f;k.change(function(){var a=k.get(0).files[0],b=".";if(-1!==a.name.indexOf(".")){var e=a.name.split(".");b=e[e.length-1]}if(!("*"===c||c instanceof Array&&-1!==c.indexOf(b))){k.val(null);h({key:"invalidfiletype",component:"core_repository",param:b});return}else if(a.size>d){k.val(null);h({key:"errorpostmaxsize",component:"core_repository"});return}g(a)})}function g(a){var c=j<a.size?j:a.size,d={start:0,end:c,length:a.size},e=new FileReader,f=a.slice(0,c);e.readAsText(f);e.addEventListener("loadend",function(){b.default.post(i+"/local/chunkupload/startupload_ajax.php?"+b.default.param(d),e.result,function(c,a){console.log(c,a)})})}function h(a){(0,c.get_strings)([{key:"error"},a,{key:"ok"}]).done(function(a){d.default.alert(a[0],a[1],a[2])}).fail(d.default.exception)}});
//# sourceMappingURL=chunkupload.min.js.map
